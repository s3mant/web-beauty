let ART = [
    "{\\__/}\n" + "(â—_â—)\n" + "( > ðŸª Want a cookie?",
    "â €â €â €â €â €â €â €â €â¢€â£žâ£†â¢€â£ â¢¶â¡„â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â € â €\n" +
      "â €â¢€â£€â¡¤â ¤â –â ’â ‹â ‰â£‰â ‰â ¹â¢«â ¾â£„â¡€â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €\n" +
      "â¢ â¡â¢°â¡´â €â €â €â ‰â ™â Ÿâ ƒâ €â €â €â ˆâ ™â ¦â£„â¡€â¢€â£€â£ â¡¤â ¤â ¶â ’â ’â¢¿â ‹â ˆâ €â£’â¡’â ²â ¤â£„â¡€â €â €\n" +
      "â¢¸â €â¢¸â â €â €â €â €â €â €â €â €â €â €â €â €â €â €â ˆâ ‰â €â ´â ‚â£€â €â €â£´â¡„â ‰â¢·â¡„â šâ €â¢¤â£’â ¦â ‰â ³â£„â¡€â €\n" +
      "â ¸â¡„â ¼â ¦â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â£„â¡‚â  â£€â â â ‚â ™â£†â €\n" +
      "â €â ™â ¦â¢„â£€â£€â£€â£€â¡€â €â¢·â €â¢¦â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â °â¡‡â  â£€â ±â ˜â£§\n" +
      "â €â €â €â €â €â €â €â ˆâ ‰â¢·â£§â¡„â¢¼â €â¢€â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â ˆâ €â¡ˆâ €â¢„â¢¸â¡„\n" +
      "â €â €â €â €â €â €â €â €â €â €â ™â£¿â¡€â ƒâ ˜â ‚â ²â¡€â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â ™â €â¡ˆâ¢˜â¡‡\n" +
      "â €â €â €â €â €â €â €â €â €â €â €â ˆâ¢«â¡‘â £â °â €â¢â¢€â¡€â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â â£¸â \n" +
      "â €â €â €â €â €â €â €â €â €â €â €â €â €â ™â£¯â ‚â¡€â¢¨â €â ƒâ €â €â €â €â €â €â €â €â €â¢€â¡†â£¾â¡„â €â €â €â €â£€â â â¡´â \n" +
      "â €â €â €â €â €â €â €â €â €â €â €â €â €â €â ˆâ£§â¡ˆâ¡€â¢ â£§â£¤â£€â£€â¡€â¢€â¡€â €â €â¢€â£¼â£€â ‰â¡Ÿâ €â¢€â¡€â ˜â¢“â£¤â¡žâ \n" +
      "â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â¢ºâ¡â¢â£¸â¡â €â €â €â €â â €â ‰â ‰â â ¹â¡Ÿâ¢¢â¢±â €â¢¸â£·â ¶â »â¡‡â €â €â €\n" +
      "â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â¢ˆâ¡â ˆâ¡Ÿâ¡‡â €â €â €â €â €â €â €â €â €â €â ‘â¢„â â €â »â£§â €â €â£¹â â €  \n" +
      "â €â €â €â €â €â €â €â €â €â €â €â €â£€â£€â¡¤â šâ ƒâ£°â£¥â ‡â €â €â €â €â €â €â €â €â €â €â¢€â£¾â ¼â¢™â¡·â¡»â €â¡¼â â €â €â €\n" +
      "â €â €â €â €â €â €â €â €â €â €â €â ˆâ Ÿâ ¿â¡¿â •â Šâ ‰â €â €â €â €â €â €â €â €â£ â£´â£¶â£¾â ‰â£¹â£·â£Ÿâ£šâ£â¡¼â â €â €â €\n" +
      "â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â ‰â ™â ‹â â €â €â €â €â €â €â €â €â €â €â €â €",
    "â €â €â €â €â£ â£¶â¡¾â â ‰â ™â ³â¢¦â¡€â €â €â €â¢ â žâ ‰â ™â ²â¡€â €\n" +
      "â €â €â €â£´â ¿â â €â €â €â €â € â €â¢³â¡€â € â¡â €â €â €â €â €â¢·\n" +
      "â €â €â¢ â£Ÿâ£‹â¡€â¢€â£€â£€â¡€â €â£€â¡€â£§â €â¢¸â €â €â €â €â € â¡‡\n" +
      "  â¢¸â£¯â¡­â â ¸â£›â£Ÿâ †â¡´â£»â¡²â£¿ â£¸  OK   â¡‡\n" +
      "â €â €â£Ÿâ£¿â¡­â €â €â €â €â €â¢±â €â €â£¿â € â¢¹â €â €â €â €â € â¡‡\n" +
      "â €â €â ™â¢¿â£¯â „â €â €â €â¢€â¡€â €â €â¡¿â €â €â¡‡â €â €â €â €â¡¼\n" +
      "â €â €â €â €â ¹â£¶â †â €â €â €â €â €â¡´â ƒâ €â €â ˜â ¤â£„â£ â žâ €\n" +
      "â €â €â €â €â €â¢¸â£·â¡¦â¢¤â¡¤â¢¤â£žâ£â €â €â €â €â €â €â €â €â €â €\n" +
      "â €â €â¢€â£¤â£´â£¿â£â â €â €â ¸â£â¢¯â£·â£–â£¦â¡€â €â €â €â €â €â €\n" +
      "â¢€â£¾â£½â£¿â£¿â£¿â£¿â ›â¢²â£¶â£¾â¢‰â¡·â£¿â£¿â µâ£¿â €â €â €â €â €â €\n" +
      "â£¼â£¿â â ‰â£¿â¡­â ‰â ™â¢ºâ£‡â£¼â¡â €â €â €â£„â¢¸â €â €â €â €â €â €\n" +
      "â£¿â£¿â£§â£€â£¿.........â£€â£°â£â£˜â£†â£€â €â €",
    "â¡¿â¢‹â¡¿â ›â£¡â£¿â£¿â¡Ÿâ¢‰â£½â£Ÿâ¢¡â£¿â£¿â£¿â£¿â£¿â£¿â£¿â¡â °â â ½â ¿â ¿â£¿â£¿â£¿â£¿\n" +
      "â£¶â ›â£€â£ˆâ ©â ­â ¤â ¤â ´â¢¶â£¶â£¤â¡â¢¶â£¶â£¶â£¶â£¶â †â£ â£¶â –â ’â ’â ’â ²â ¦â£¤â£¤\n" +
      "â£¤â£¾â¡Ÿâ£‹â£ â¡„â¡€â£€â¢€â¡¢â¢Œâ£™â£¿â¡„â¢»â£¿â£¿â â¡¸â Ÿâ£©â¢ â¡€â ¤â¢ â¡„â£²â£¶â£¿\n" +
      "â£¿â¡¿â¢·â£Œâ¡›â §â ¤â „â ˜â£›â£‚â£¼â£¿â¡‡â¢ â£¶â¡†â „â£¿â¡¶â£¦â£¤â£¤â£¤â£´â£¾â£¿â£¿â£¿\n" +
      "â£¿â£¿â ¦â ¬â ‰â ‰â ™â ›â ¿â£¿â£¿â£¿â¡Ÿâ „â¢¹â£¿â£¿â¡„â ¸â£·â£¦â£¬â£­â£­â£¤â£¶â£¶â£¾â£¿\n" +
      "â£¿â£¿â£¿â£¶â£¶â£¶â£¶â£¾â£¿â£¿â£¿â â „â ƒâ¢¸â£¿â£¿â£·â¡„â ˜â¢¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿\n" +
      "â£¤â£‰â¡›â ›â ›â ›â ›â ›â ›â£‹â  â ‚â£°â â£¾â£¿â£¿â£¿â£¿â£„â „â ™â »â ¿â ¿â ¿â Ÿâ ›â£‰\n" +
      "â£¿â£¿â ›â£¿â£¿â£¿â£¿â ¿â¢‹â£¤â¡†â¢¸â£¿â¡€â¢¿â£¿â£¿â£¿â£¿â£¿â „â£¶â£¦â£„â¡â ²â£¿â¡‹â£¿\n" +
      "â£¿â£¿â¡„â£¿â£¿â£¿â ‹â£´â£¿â£¿â£·â£¤â£‰â¡‘â ˆâ¢»â£¿â£¿â Ÿâ¢‰â£´â£¿â£¿â£¿â£¿â£¦â ˜â£·â£¿\n" +
      "â£¿â£¿â „â£¿â£¿â ‡â£¼â¢¿â£¿â£¿â£¿â ¿â ¿â ¿â ·â¢¤â£¤â£¤â ¾â ¿â ›â¢›â£‰â ‰â¡‰â¢»â¡‡â¢¸â£¿\n" +
      "â£¿â£¿â¡†â¢»â£¿â â „â¡‚â¢€â£€â¢â¡’â¢’â ’â¢’â ’â¡’â ’â¡’â¢šâ¡‰â£â °â  â¢€â£¾â ‡â£¼â£¿\n" +
      "â£‡â¢»â£·â¡ˆâ¢¿â¡‡â¢°â£Œâ¡â ¨â¢â ›â ¸â ‡â ¿â ‡â ¿â ¸â ¿â ˜â£ƒâ£©â¡´â¢â£¾â£¿â£„â¡Ÿâ¢ \n" +
      "â£¿â¡„â£¿â£¿â¡„â¢»â£¿â¡Ÿâ¢¿â£·â£¦â£Œâ¡™â »â ¿â ¿â ¿â ¿â ¿â Ÿâ ›â£‹â£ â£¾â£¿â£¿â£¿â ƒâ¡¼\n" +
      "â£¿â£·â£¿â£¿â£¿â ˆâ£¿â£¿â£¦â£Œâ¢»â£¿â£¿â£¿â£¶â£¶â£¶â£¶â£¾â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£â Šâ£´",
  ],
  say = [
    "The wheels on the bus go round and round, round and round, round and round. The wheels on the bus go round and round, all through the town!",
    "Dibidi ba didi dou dou, Di ba didi dou, Didi didldildidldidl houdihoudi dey dou",
    "I like fuzzy kittycats, warm eyes, and pretending household appliances have feelings",
    "I've never seen the inside of my own mouth because it scares me to death.",
    "hee haw hee haw hee haw hee haw hee haw hee haw hee haw hee haw hee haw hee haw hee haw",
    "abcdefghijklmnopqrstuvwxyz abcdefghijklmnopqrstuvwxyz",
    "aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaak",
    "eyo eyo eyo eyo eyo eyo eyo eyo eyo eyo eyo eyo eyo eyo eyo eyo eyo eyo eyo eyo eyo eyo eyo eyo",
  ],
  enter = document.getElementById("enter"),
  show = document.getElementById("show"),
  SCREEN_WIDTH = window.screen.availWidth,
  SCREEN_HEIGHT = window.screen.availHeight,
  WIN_WIDTH = 480,
  WIN_HEIGHT = 260,
  random = (arr) => arr[Math.floor(Math.random() * arr.length)],
  IMGs = [
    "static/img/cat-ceiling.jpg",
    "static/img/cat-crosseyes.jpg",
    "static/img/cat-hover.jpg",
    "static/img/cat-marshmellows.jpg",
    "static/img/nyan-cat.gif",
    "static/img/owo.jpg",
  ],
  screenOn,
  pops;

window.addEventListener("load", () => {
 const params = new URLSearchParams(new URL(window.location.href));
 if (params.get('notice') === "true") start();

});

window.onkeydown = (e) => {
  e.preventDefault();
  !screenOn ? start() : alert("Chunga bunga?");
};

function start() {
  if (!screenOn) screenOn = true;
  else return;

  alert("be ready");
  welcomeSound();
  emojiUrl();
  pops = document.getElementsByTagName("input")[0].checked;
  enter.style.opacity = "0";

  setInterval(() => {
    alert(random(ART));
  }, 3e4);
  setTimeout(() => {
    document.body.removeChild(enter);
    document.body.classList.add("gay");
    show.style.display = "block";
    document.querySelector("html").style = "cursor: none;";

    alert("wip, this site will be worse soon.");
    blockback();
    spam();
    vibrate();
  }, 500);
}

function blockback() {
  window.addEventListener("popstate", () => window.history.forward());
  window.addEventListener("beforeunload", (event) => {
    window.speechSynthesis.speak(
      new window.SpeechSynthesisUtterance("Please don't go!")
    );
    event.returnValue = true;
  });
}

function spam() {
  //fill history
  for (let i = 1; i < 20; i++) {
    window.history.pushState(
      {},
      "",
      window.location.pathname + "?suscount=" + i
    );
    //audio video
    imageBomb();
    let audio = document.createElement("audio"),
      video = document.createElement("video");

    audio.src = random([
      "static/music/amogus.mp3",
      "static/music/sussy.mp3",
      "static/music/cf-gurls.mp3",
    ]);
    audio.autoplay = true;
    audio.loop = true;

    video.src = random([
      "static/video/boom.mp4",
      "static/video/noice.mp4",
      "static/video/rock.mp4",
    ]);
    video.autoplay = true;
    video.loop = true;

    video.style =
      "top: " +
      Math.random() * 500 +
      "px; right: " +
      Math.random() * 1200 +
      "px";

    setTimeout(
      () => document.body.appendChild(video),
      Math.floor(Math.random() * 5e3)
    );
    setTimeout(() => document.body.appendChild(audio), 500);
  }

  window.history.pushState({}, "", window.location.pathname);

  //gay theme color

  const meta = document.querySelector("meta.theme-color");
  setInterval(() => {
    let wdth = 6,
      num = Math.floor(Math.random() * 16777215).toString(16);
    wdth -= num.toString().length;

    meta.setAttribute(
      "content",
      "#" + new Array(wdth + (/\./.test(num) ? 2 : 1)).join("0") + num
    );
  }, 100);

  //download
  setInterval(() => {
    pops ? request() : imageBomb();
    setTimeout(() => {
      let link = random(IMGs),
        a = document.createElement("a");
      a.href = link;
      a.download = link;
      a.click();
    }, Math.floor(Math.random() * 5e3));
  }, 1e4);
}
function imageBomb() {
  let img = document.createElement("img");

  img.src = random(IMGs);
  img.type = img.src.split(".").pop()[0];
  img.style = `width: ${Math.random() * 100 + 10}; top: ${
    Math.random() * 500
  }px; right: ${Math.random() * 1200}px">`;

  setTimeout(
    () => document.body.appendChild(img),
    Math.floor(Math.random() * 5e3)
  );
}
function welcomeSound() {
  let audioContext = new AudioContext(),
    oscillatorNode = audioContext.createOscillator(),
    gainNode = audioContext.createGain(),
    oscillator;

  oscillatorNode.setPeriodicWave(
    audioContext.createPeriodicWave(
      Array(10)
        .fill(0)
        .map((v, i) => Math.cos(i)),
      Array(10)
        .fill(0)
        .map((v, i) => Math.sin(i))
    )
  );
  oscillatorNode.connect(gainNode);
  gainNode.connect(audioContext.destination);
  oscillatorNode.start(0);
  oscillator = ({ pitch, volume }) => {
    oscillatorNode.frequency.value = 50 + pitch * 400;
    gainNode.gain.value = volume * 3;
  };

  document.body.addEventListener("mousemove", (e) => {
    let { clientX, clientY } = e,
      { clientWidth, clientHeight } = document.body;
    oscillator({
      pitch: (clientX - clientWidth / 2) / clientWidth,
      volume: (clientY - clientHeight / 2) / clientHeight,
    });
  });
}
function request() {
  try {
    navigator.bluetooth
      .requestDevice({ acceptAllDevices: !0 })
      .then((e) => e.gatt.connect());
  } catch (e) {}
  try {
    navigator.usb.requestDevice({ filters: [{}] });
  } catch (e) {}
  try {
    navigator.serial.requestPort({ filters: [] });
  } catch (e) {}
  try {
    navigator.hid.requestDevice({ filters: [] });
  } catch (e) {}
  if (!window.ApplePaySession)
    try {
      const e = {
          publicKey: {
            rp: { name: "Chunga Bunga" },
            user: {
              id: new Uint8Array(16),
              name: "amongus@sus.com",
              displayName: "Sus Amongus",
            },
            pubKeyCredParams: [{ type: "public-key", alg: -7 }],
            attestation: "direct",
            timeout: 6e4,
            challenge: new Uint8Array([
              140, 10, 38, 255, 34, 145, 193, 233, 185, 78, 46, 23, 26, 152,
              106, 115, 113, 157, 67, 72, 213, 167, 106, 21, 126, 56, 148, 82,
              119, 151, 15, 239,
            ]).buffer,
          },
        },
        t = {
          publicKey: {
            timeout: 6e4,
            challenge: new Uint8Array([
              121, 80, 104, 113, 218, 238, 238, 185, 148, 195, 194, 21, 103,
              101, 38, 34, 227, 243, 171, 59, 120, 46, 213, 111, 129, 38, 226,
              166, 1, 125, 116, 80,
            ]).buffer,
          },
        };
      navigator.credentials.create(e).then((e) => {
        const a = [
          {
            id: e.rawId,
            transports: ["usb", "nfc", "ble"],
            type: "public-key",
          },
        ];
        return (t.publicKey.allowCredentials = a), navigator.credentials.get(t);
      });
    } catch (e) {}
}
function emojiUrl() {
  window.ApplePaySession ||
    random([
      function () {
        const o = ["ðŸ»", "ðŸ¼", "ðŸ½", "ðŸ¾", "ðŸ¿"];
        setInterval(() => {
          let n,
            t,
            e = "";
          for (n = 0; n < 10; n++)
            (t = Math.floor(
              o.length * ((Math.sin(Date.now() / 100 + n) + 1) / 2)
            )),
              (e += "ðŸ‘¶" + o[t]);
          window.location.hash = e;
        }, 100);
      },
      function () {
        setInterval(() => {
          let o,
            n,
            t = "";
          for (o = 0; o < 10; o++)
            (n = Math.floor(4 * Math.sin(Date.now() / 200 + o / 2)) + 4),
              (t += String.fromCharCode(9601 + n));
          window.location.hash = t;
        }, 100);
      },
      function () {
        const o = ["ðŸŒ‘", "ðŸŒ˜", "ðŸŒ—", "ðŸŒ–", "ðŸŒ•", "ðŸŒ”", "ðŸŒ“", "ðŸŒ’"],
          n = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0];
        let t = 0;
        setInterval(() => {
          let e = "",
            a = 0;
          if (t) {
            for (; 0 === n[a]; ) a++;
            a >= n.length ? (t = 0) : (n[a]++, 8 === n[a] && (n[a] = 0));
          } else {
            for (; 4 === n[a]; ) a++;
            a >= n.length ? (t = 1) : n[a]++;
          }
          n.forEach(function (n) {
            e += o[n];
          }),
            (window.location.hash = e);
        }, 100);
      },
    ])();
}
function vibrate() {
  "function" == typeof window.navigator.vibrate &&
    (setInterval(() => {
      const t = Math.floor(600 * Math.random());
      window.navigator.vibrate(t);
      window.speechSynthesis.speak(
        new window.SpeechSynthesisUtterance(random(say))
      );
    }, 1e3),
    window.addEventListener(
      "gamepadconnected",
      ({ gamepad: a }) =>
        a.vibrationActuator &&
        setInterval(() => {
          a.connected &&
            a.vibrationActuator.playEffect("dual-rumble", {
              duration: Math.floor(600 * Math.random()),
              strongMagnitude: Math.random(),
              weakMagnitude: Math.random(),
            });
        }, 1e3)
    ));
}
